RUN: mkdir -p %S/Output
RUN: %reqif passthrough %S/sample.reqif %S/Output/sample.reqif
RUN: %diff %S/sample.reqif %S/Output/sample.reqif

RUN: python %S/script.py %S/sample.reqif --output-dir %S/Output/reqif
RUN: %diff %S/expected/output.json %S/Output/reqif/output.json

RUN: mkdir %S/Output/reqif_stdout
RUN: python %S/script.py %S/sample.reqif --stdout --no-filesystem | tee %S/Output/reqif_stdout/output.json
RUN: %diff %S/expected/output.json %S/Output/reqif_stdout/output.json

RUN: python %S/script.py %S/sample.reqifz --output-dir %S/Output/reqifz
RUN: %diff %S/expected/output.json %S/Output/reqifz/output.json

TODO:
- output file vs output stdout
- Make the nodes nested.
- Type fields
